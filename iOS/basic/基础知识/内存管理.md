内存管理

MRC

ARC

strong、weak、autorelease、copy、mutablecopy、assign内部实现原理





Runtime

Instance 变量、class、metaClass、isa

类对象存储

类方法、实例方法存储

关联对象

runtime使用等



Runloop



GCD



KVC && KVO

常用设计模式

第三方库源码

MVVM与MVP

响应式编程

ReactNative

Git





内存管理

MRC

1.自己生成，自己持有。alloc、new、copy、mutableCopy

2.非自己生成的，自己也能持有。retain、copy、mutableCopy等方法

3.不再需要自己持有的对象时释放。release、autorelease、

4.非自己持有的对象无法释放。





ARC

所有权修饰符

  __strong

​	id 类型和对象默认的所有权修饰符。id和对象在没有明确指定修饰符的时候，默认都是__strong 修饰符。附有 _strong 标识符的变量obj在超出其作用域是后，变量被废弃掉。

  __weak

​	__weak 修饰符的变量（弱引用）不持有对象，所以在超出其变量作用域时，对象即被释放。在持有某对象的弱引用时，如果该对象被废弃掉，则弱引用将自动失效且处于nil被赋值的状态。

  __unsafe_unretained

​	与__weak 类似，但是不会将对象置为nil

__autoreleasing 

​	ARC有效的时候，需要将对象赋值给附加了__autoreleasing 修饰符的变量来替代调用autorelease方法。

​	一般不显示地加__autoreleasing 修饰符。

​	访问__weak 修饰符的变量时，实际上必定要访问注册到autoreleasepool的对象。



属性

ARC情况下，属性对应的修饰符也发生了变化

|       属性        |          所有权修饰符          |
| :---------------: | :----------------------------: |
|      assign       |      __unsafe_unretained       |
|       copy        | __strong(赋值的是被复制的对象) |
|      retain       |            __strong            |
|      strong       |            __strong            |
| unsafe_unretained |      __unsafe_unretained       |
|       weak        |             __weak             |

__strong、__weak、autoreleasing 修饰符保证其指定的变量初始化为nil



weak 需要运行时支持

clang -rewrite-objc -fobjc-arc -stdlib=libc++ -mmacosx-version-min=10.7 -fobjc-runtime=macosx-10.7 -Wno-deprecated-declarations main.m





Runloop

1.Autorelease Pools

​	runloop 的一个主要作用是管理autorelease pool。所有的autorelease pool都是由runloop管理的。

